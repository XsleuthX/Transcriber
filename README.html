<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Transcriber — README</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Fraunces:opsz,wght@9..144,400;9..144,600&display=swap" rel="stylesheet"/>
<link href="./style.css" rel="stylesheet"/>
<style>
  /* README page tweaks (keeps same design system) */
  .readme-wrap{ max-width: 1060px; margin: 0 auto; padding: 18px; }
  .readme-card{ background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 16px; padding: 16px 18px; margin: 14px 0; }
  .readme-card h2{ margin: 0 0 10px 0; font-size: 18px; }
  .readme-card h3{ margin: 14px 0 8px 0; font-size: 15px; opacity: 0.95; }
  .readme-card p{ margin: 8px 0; opacity: 0.92; line-height: 1.55; }
  .readme-card ul{ margin: 8px 0 8px 18px; }
  .pill{ display:inline-block; padding: 2px 10px; border-radius: 999px; border:1px solid rgba(255,255,255,0.14); background: rgba(255,255,255,0.06); font-size: 12px; margin-right: 8px; }
  code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 0.95em; }
  a{ color: inherit; }
</style>
</head>

<body>
<header class="head">
  <div class="brand">
    <div class="laurel" aria-hidden="true">✶</div>
    <div class="title">
      <h1>Transcriber</h1>
      <div class="sub">README / User Guide</div>
    </div>
  </div>

  <div class="tools">
    <a class="btn" href="./index.html" title="Back to app">← Back to App</a>
  </div>
</header>

<main class="readme-wrap">
  <div class="readme-card">
    <h2>Quick Start</h2>
    <p>
      <span class="pill">1</span> Open <code>index.html</code> (or run the local server and open <code>http://127.0.0.1:8000</code>).
      <br/>
      <span class="pill">2</span> Load an audio/video file into the player.
      <br/>
      <span class="pill">3</span> Import subtitles into <b>Sub A</b> and/or <b>Sub B</b>.
      <br/>
      <span class="pill">4</span> Edit, align, and run AI checks.
      <br/>
      <span class="pill">5</span> Export SRT/VTT from the currently active Sub panel.
    </p>
  </div>

  <div class="readme-card">
    <h2>Layout & Navigation</h2>
    <h3>Top toolbar</h3>
    <ul>
      <li><b>Import</b>: Load SRT/VTT/TXT into Sub A or Sub B (depending on which input you use).</li>
      <li><b>Align-To-Audio</b>: Sends your current transcript + audio to the server for word-level alignment.</li>
      <li><b>AI Check</b>: Runs automated checks (drift, suspicious lines, etc.) and returns annotated results.</li>
      <li><b>Export SRT / Export VTT</b>: Exports <b>Sub A</b> if Sub A panel is selected; exports <b>Sub B</b> if Sub B is selected.
        On Chrome/Edge, you’ll be asked for <b>filename and save location</b>. On other browsers, you’ll be prompted for filename and the file downloads to your default Downloads folder.</li>
    </ul>

    <h3>Player</h3>
    <ul>
      <li>Load audio/video and scrub to review timing.</li>
      <li>Useful for verifying “first word” and “last word” boundary alignment.</li>
    </ul>

    <h3>Transcript panels</h3>
    <ul>
      <li><b>Sub A</b>: typically your original transcript / baseline.</li>
      <li><b>Sub B</b>: an alternate track (e.g., translation, revised cut, or second version).</li>
      <li>Click inside a panel to make it the <b>active</b> panel. Exports and some actions follow the active panel.</li>
    </ul>
  </div>

  <div class="readme-card">
    <h2>Core Functions</h2>

    <h3>Editing</h3>
    <ul>
      <li>Edit subtitle text directly in the table.</li>
      <li>Adjust timecodes using the time fields and controls provided in the UI.</li>
      <li>Use search / filters (if enabled) to locate specific lines quickly.</li>
    </ul>

    <h3>Align-To-Audio</h3>
    <p>
      Align-To-Audio uses word-level timestamps from the server to snap each subtitle cue to the best-matching span of words.
      This improves timing accuracy and reduces drift.
    </p>
    <ul>
      <li><b>EN</b>: optimized for English token matching and boundary refinement.</li>
      <li><b>ZH</b>: optimized for Chinese segmentation, bigram matching, and minimum-duration boosting.</li>
      <li><b>Auto</b>: detects language and applies EN/ZH logic per cue. It also performs extra boundary tightening to reduce cases where the first or last spoken word is missed.</li>
    </ul>

    <h3>AI Check</h3>
    <ul>
      <li>Runs heuristics and/or LLM checks (depending on your server config) to highlight questionable lines.</li>
      <li><b>Key Terms</b> (if enabled in your build): lets you enter English and Chinese terms to help the AI check anchor important names, jargon, and recurring concepts.</li>
    </ul>
  </div>

  <div class="readme-card">
    <h2>Recommended Workflow</h2>
    <ol>
      <li>Import your best available subtitles into <b>Sub A</b>.</li>
      <li>(Optional) Import a second version into <b>Sub B</b>.</li>
      <li>Run <b>Align-To-Audio</b> using <b>Auto</b> (or force EN/ZH if you know the language).</li>
      <li>Review the first/last word boundaries on fast speech segments; fix any edge cases manually.</li>
      <li>Run <b>AI Check</b> to catch drift, missing terms, or suspicious lines.</li>
      <li>Export SRT/VTT from the active panel.</li>
    </ol>
  </div>

  <div class="readme-card">
    <h2>Troubleshooting</h2>
    <ul>
      <li><b>Export prompt doesn’t show a folder picker:</b> Folder picker requires Chrome/Edge’s File System Access API. Other browsers will download to your default Downloads folder.</li>
      <li><b>Align results look shifted:</b> Try running Align-To-Audio again, or force EN/ZH instead of Auto for a single-language file.</li>
      <li><b>Server not reachable:</b> Start the Python server and ensure it’s running at <code>http://127.0.0.1:8000</code>.</li>
    </ul>
  </div>

  <div class="readme-card">
    <h2>Credits / Notes</h2>
    <p>This README is bundled with the app. You can open it anytime as <code>README.html</code>.</p>
  </div>
</main>
</body>
</html>
